# Dove VPN 配置说明

## 🕊️ Dove VPN 代理配置

### 查找 Dove VPN 的代理端口

#### 方法 1：查看 Dove 设置
1. 打开 Dove VPN 软件
2. 找到"设置"或"偏好设置"
3. 查找以下选项：
   - "本地端口"
   - "代理端口"
   - "HTTP 端口"
   - "SOCKS 端口"

#### 方法 2：常见端口尝试
Dove VPN 常用的端口可能是：
- `10808`
- `1080`
- `10809`
- `7890`

#### 方法 3：查看 Dove 托盘图标
1. 右键点击系统托盘中的 Dove 图标
2. 查看是否有"代理设置"或"端口"相关信息

### 快速配置步骤

#### 步骤 1：尝试常见端口
用记事本打开 `start-with-proxy.bat`，修改这一行：

**尝试 1：端口 10808**
```batch
set PROXY_PORT=10808
```

**尝试 2：端口 1080**
```batch
set PROXY_PORT=1080
```

**尝试 3：端口 10809**
```batch
set PROXY_PORT=10809
```

#### 步骤 2：测试每个端口
1. 修改 `PROXY_PORT` 值
2. 保存文件
3. 双击运行 `start-with-proxy.bat`
4. 看是否显示 "✓ 代理连接正常"

### 手动测试端口

在命令提示符中运行（尝试不同端口）：

```cmd
curl -I --proxy http://127.0.0.1:10808 https://www.google.com
curl -I --proxy http://127.0.0.1:1080 https://www.google.com
curl -I --proxy http://127.0.0.1:10809 https://www.google.com
```

哪个命令返回 `HTTP/2 200` 或类似内容，说明那个端口正确。

### Dove VPN 特殊设置

某些版本的 Dove 需要：

1. **启用本地代理**
   - 在 Dove 设置中找到"允许来自局域网的连接"
   - 确保已启用

2. **使用全局模式**
   - 不要使用"智能模式"或"规则模式"
   - 选择"全局模式"或"VPN 模式"

3. **检查防火墙**
   - 确保 Windows 防火墙允许 Dove 的代理端口

---

## 🎯 快速尝试方案

我为你准备了一个快速测试脚本：

### 方案 A：逐个测试常见端口

用记事本打开 `start-with-proxy.bat`，按顺序尝试：

1. 第一次尝试：`set PROXY_PORT=10808`
2. 第二次尝试：`set PROXY_PORT=1080`
3. 第三次尝试：`set PROXY_PORT=10809`

每次修改后，双击运行脚本，看是否成功。

### 方案 B：让我创建自动检测脚本

我可以创建一个脚本，自动尝试所有常见端口。

---

## ❓ 仍然找不到端口？

### 请提供以下信息：

1. **Dove VPN 版本**
   - 在 Dove 软件中查看"关于"或"版本信息"

2. **Dove 设置截图**
   - 打开 Dove 设置界面
   - 截图发给我

3. **或者查看配置文件**
   - Dove 通常会在用户目录下有配置文件
   - 可能在：`C:\Users\你的用户名\.dove` 或类似位置

---

## ✅ 成功标志

当使用正确的端口启动后，你会看到：

```
[2/3] 测试代理连接...
HTTP/2 200
✓ 代理连接正常  ← 这里显示成功

[3/3] 启动服务器...
专业头像生成器服务已启动
```

然后测试图片生成，会成功而不是超时。

---

## 💡 临时方案

如果实在找不到端口，我可以创建一个**模拟模式**，让你先测试 UI 功能，等找到端口后再连接真实 API。

---

现在请：
1. 打开 Dove VPN 的设置
2. 查找端口号
3. 或者直接尝试 10808、1080、10809 这几个常见端口
